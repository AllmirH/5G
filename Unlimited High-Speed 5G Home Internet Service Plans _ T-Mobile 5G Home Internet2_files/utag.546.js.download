//tealium universal tag - utag.546 ut4.0.202107222031, Copyright 2021 Tealium.com Inc. All Rights Reserved.
try{(function(id,loader){var u={};utag.o[loader].sender[id]=u;if(utag===undefined){utag={};}if(utag.ut===undefined){utag.ut={};}if(utag.ut.loader===undefined){u.loader=function(o){var a,b,c,l;a=document;if(o.type==="iframe"){b=a.createElement("iframe");b.setAttribute("height","1");b.setAttribute("width","1");b.setAttribute("style","display:none");b.setAttribute("src",o.src);}else if(o.type==="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";b.src=o.src;}if(o.id){b.id=o.id;}if(typeof o.cb==="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded"){this.onreadystatechange=null;o.cb();}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l==="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}};}else{u.loader=utag.ut.loader;}
u.ev={'view':1};u.initialized=false;u.map={};u.extend=[function(a,b){try{if(1){(function(c,serv,conds,loc,w){var u=c.util,o=c.object,config={url:"//connect.facebook.net/en_US/fbevents.js",productContent:{currency:"USD",content_type:"product"},commonContent:{get mtc(){return c.cookie.get("mtc");}}},_TRACK={SINGLE:"trackSingle",SINGLE_CUSTOM:"trackSingleCustom"},_self,_loaded=0,_queue=[],logs=[];function conditionHandler(conditions,url){serv.bindConditions(conditions,function(condition){condition.vars.forEach(function(data){track(url,data);});},url);}
function send(data,url){if(!data||!u.exists(data.key)||!u.exists(data.value)||((data.key===_TRACK.SINGLE||data.key===_TRACK.SINGLE_CUSTOM)&&!data.account)||(data.account&&data.key!==_TRACK.SINGLE&&data.key!==_TRACK.SINGLE_CUSTOM)){logs.push({error:{message:"invalid",details:data,url:url||loc.href}});return;}
data.content=o.merge(data.content,data.commonContent?config.commonContent:null,data.content?config.productContent:null);if(data.service&&!data.called){if(o.has(_self.service,data.service)&&u.isFunction(_self.service[data.service])){data.called=true;_self.service[data.service](url,data);}else{logs.push({error:{message:"service not found",details:data,url:url||loc.href}});}}else{var args=[data.key];data.account&&args.push(data.account);args.push(data.value);data.content&&args.push(data.content);w.fbq.apply(w.fbq,args);logs.push({info:{details:data,url:url||loc.href}});}}
function track(url,data){if(w.ta&&ta.donotsell){var n=ta.donotsell;if("function"==typeof n.isBlocked&&n.isBlocked(n.tags().facebook||"facebook"))return;}
if(w.fbq&&_loaded){(data||conditionHandler(conds,url))&&send(data,url);}else if(w.fbq){data&&_queue.push(data);}else{var n;if(w.fbq)return;n=w.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments);};if(!w._fbq)w._fbq=n;n.push=n;n.loaded=!0;n.version="2.0";n.queue=[];data&&_queue.push(data);c.loader.script(config.url,null,function(){_loaded=1;conditionHandler(conds,url);while(_queue.length){send(_queue.shift(),url);}});}}
_self=u.create("fb",ta,{config:config,logs:logs,service:{conditionHandler:conditionHandler},track:track});})(ta.core,ta.traffic.service,(ta.fb&&ta.fb.conditions)||[],ta.core.url.location,window);}}catch(e){utag.DB(e)}}];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f,i;u.data={};for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){if(typeof utag_err!='undefined'){utag_err.push({e:'extension error:'+e,s:utag.cfg.path+'utag.'+id+'.js',l:c,t:'ex'})}}};for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.data[e[f]]=b[d];}}}
}};utag.o[loader].loader.LOAD(id);})("546","tmobile.nextgen");}catch(error){utag.DB(error);}
